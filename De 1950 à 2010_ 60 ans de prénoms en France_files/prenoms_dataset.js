// Generated by CoffeeScript 1.6.3
(function() {
  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  define(["prenoms_dataset_raw", "common"], function(prenoms_dataset_raw, common) {
    var char, p, prenom_data, ps_low, _i, _len;
    for (_i = 0, _len = prenoms_dataset_raw.length; _i < _len; _i++) {
      prenom_data = prenoms_dataset_raw[_i];
      prenom_data.search_text = ((function() {
        var _j, _len1, _ref, _results;
        _ref = [].concat(prenom_data.prenom, prenom_data.alt || []);
        _results = [];
        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
          p = _ref[_j];
          _results.push(common.remove_accents(p.toLowerCase()));
        }
        return _results;
      })()).join(" ");
      prenom_data.prenom_sexued = prenom_data.prenom + (prenom_data.mixte ? " (" + prenom_data.sexe + ")" : "");
      ps_low = common.remove_accents(prenom_data.prenom_sexued.toLowerCase());
      prenom_data.unique_id = ((function() {
        var _j, _len1, _results;
        _results = [];
        for (_j = 0, _len1 = ps_low.length; _j < _len1; _j++) {
          char = ps_low[_j];
          if (__indexOf.call("()", char) >= 0) {
            _results.push("");
          } else if (char === " ") {
            _results.push("-");
          } else {
            _results.push(char);
          }
        }
        return _results;
      })()).join("");
    }
    return prenoms_dataset_raw;
  });

}).call(this);
